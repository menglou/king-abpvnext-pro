<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>King-AbpVnext-Pro</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Description">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">
  <link rel="icon" href="_media/icon.ico">
  <style>
    .app-nav {
      position: fixed !important;
      border-bottom: 1px solid #eee;
      margin: 0px !important;
      width: calc(100% - 300px);
      height: 50px;
      z-index: 80;
      background-color: #fff;
    }

    .github-corner {
      z-index: 100 !important;
    }

    .app-nav ul {
      padding-right: 80px;
      height: 50px;
      line-height: 40px;
    }
  </style>
</head>

<body>
  <div id="app"></div>
  <script>
    window.$docsify = {
      name: 'King-AbpVnext-Pro', // 文档标题，会显示在侧边栏顶部
      repo: 'https://github.com/menglou/menglou.github.io.git', // 右上角Github图标链接
      loadNavbar: true, // 默认加载 _navbar.md，作为顶部导航栏
      alias: {
        '/.*/_sidebar.md': '/_sidebar.md',
      },
      maxLevel: 4,
      subMaxLevel: 2,
      loadSidebar: true,// 默认加载 _sidebar.md，作为侧边栏
      coverpage: true,
      coverpage: {
        '/': '_cover.md'
      },
      onlyCover: true,
      auto2top: true,
      search: {
        paths: 'auto',
        placeholder: '搜索',
        noData: '找不到结果',
        depth: 1,
      },
      scrollToTop: {
        auto: true,
        text: 'Top',
        right: 15,
        bottom: 15,
        offset: 500
      }
    }
  </script>



  <script src="//cdn.jsdelivr.net/npm/docsify/lib/docsify.min.js"></script>
  <!--全局搜索-->
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
  <!--侧边栏折叠 plugins -->
  <!-- <script src="//cdn.jsdelivr.net/npm/docsify-sidebar-collapse/dist/docsify-sidebar-collapse.min.js"></script> -->
  <script src="//cdn.jsdelivr.net/npm/docsify-pagination/dist/docsify-pagination.min.js"></script>
  <!--字数统计-->
  <script src="//unpkg.com/docsify-count/dist/countable.js"></script>
  <!--剪切板-->
  <script src="//cdn.jsdelivr.net/npm/docsify-copy-code/dist/docsify-copy-code.min.js"></script>

  <script src="//unpkg.com/docsify-scroll-to-top/dist/docsify-scroll-to-top.min.js"></script>
</body>
<script>
  document.addEventListener('DOMContentLoaded', function () {

    // if (window.innerWidth > 768) {

    //   if (location.hash == "#/") {
    //     document.querySelector('.app-nav').style.width = '0px'
    //   }
    //   else {
    //     document.querySelector('.app-nav').style.width = 'calc(100% - 300px)'
    //   }
    // }
    // else {
    //   document.querySelector('.app-nav').style.width = '100%'
    // }

    window.addEventListener('resize', function () {
      console.log(window.innerWidth);
      if (window.innerWidth > 768) {
        document.querySelector('.app-nav').style.width = 'calc(100% - 300px)'
      }
      else {
        document.querySelector('.app-nav').style.width = '100%'
      }
    })
    const observer = new MutationObserver(function (mutations) {
      mutations.forEach(function (mutation) {
        debugger
        let s = mutation.target.className
        if (s == "hidden") {
          document.querySelector('.app-nav').style.width = '0px'
        }
        else {
          document.querySelector('.app-nav').style.width = 'calc(100% - 300px)'
        }
      });
    });

    const observerbody = new MutationObserver(function (mutations) {
      mutations.forEach(function (mutation) {
        debugger
        let x = mutation.target.className
        if (x.indexOf('close') != -1) {
          document.querySelector('.app-nav').style.width = '100%'
        }
        else {
          if (window.innerWidth > 768) {
            if (document.querySelector('main').className == "hidden") {
              document.querySelector('.app-nav').style.width = '0px'
            }
            else {
              document.querySelector('.app-nav').style.width = 'calc(100% - 300px)'
            }

          }
          else {
            document.querySelector('.app-nav').style.width = '100%'
          }

        }
      });
    });

    //observer.observe(document.querySelector('main'), { attributes: true, attributeFilter: ["class"] });
    observerbody.observe(document.querySelector('body'), { attributes: true, attributeFilter: ["class"] });
  });

</script>

</html>